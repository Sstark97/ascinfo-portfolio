---
import {ViewTransitions} from 'astro:transitions';
import NavBar from "@components/astro/NavBar.astro";
import Footer from "@components/astro/Footer.astro";
import {capitalizeTitle} from "../lib/domain/TitleConverter";
interface Props {
    title: string;
    description?: string;
    canonical?: string;
    image?: string;
}

const {title, description, canonical, image} = Astro.props;
const defaultDescription = `Soy Aitor Santana, Desarrollador de Software apasionado por escribir c칩digo limpio y sostenible, aplicando TDD y buenas pr치cticas como patrones de dise침o y arquitecturas limpias. En Lean Mind, colaboro con un equipo que me impulsa a crecer profesionalmente.`;
const completeImageUrl = `https://ascinfo.dev${image ?? "/images/aitor-profile.webp"}`;
const formattedTitle = capitalizeTitle(title);
const pageCanonical = canonical ?? "https://ascinfo.dev";
---

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width"/>

    <meta name="keywords"
          content="aitor santana, aitor santana cabrera, aitor, santana, Aitor Santana, Aitor Santana Cabrera, Aitor, ascinfo, ascinfo.dev, TDD, Clean Code, C칩digo Limpio"/>

    <meta property="og:title" content={formattedTitle}/>
    <meta property="og:description" content={description ?? defaultDescription}/>
    <meta property="og:image" content={completeImageUrl}/>
    <meta property="og:image:url" content={completeImageUrl}/>
    <meta property="og:image:secure_url" content={completeImageUrl}/>
    <meta property="og:image:alt" content={image ? description : "Aitor Santana Cabrera"}/>
    <meta property="og:url" content="https://ascinfo.dev"/>
    <meta property="og:type" content="website"/>
    <meta property="og:locale" content="es_ES"/>
    <meta property="og:site_name" content="ascinfo.dev"/>

    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:site" content="@aitorsci"/>
    <meta name="twitter:creator" content="@aitorsci">
    <meta name="twitter:title" content={formattedTitle}/>
    <meta name="twitter:description" content={description ?? defaultDescription}/>
    <meta name="twitter:image" content={image ? completeImageUrl : "/images/aitor-profile.webp"}/>
    <meta name="twitter:image:alt" content="Aitor Santana"/>
    <meta name="twitter:domain" content="ascinfo.dev"/>
    <meta name="twitter:url" content="https://ascinfo.dev"/>

    <meta name="description" content={description ?? defaultDescription}/>
    <link rel="sitemap" href="/sitemap-index.xml"/>
    <link rel="robots" href="/robots.txt"/>
    <link rel="canonical" href={pageCanonical}/>
    <link rel="icon" href="/favicon.svg" type="image/x-icon"/>
    <meta name="title" content={formattedTitle} />
    <title>{formattedTitle}</title>
    <ViewTransitions/>
</head>
<body class="flex flex-col min-h-screen bg-black text-white scrollbar scrollbar-thumb-primary scrollbar- scrollbar-w-2 scrollbar-corner-rounded-xl">
<NavBar/>
<main class="flex-1">
    <slot/>
</main>
<Footer/>
</body>
</html>
<style is:global>
    ::-webkit-scrollbar {
        height: .6rem;
    }

    ::-webkit-scrollbar-track {
        background: #2a2a2a;
    }

    ::-webkit-scrollbar-thumb {
        background: #00DFFC;
    }
</style>
